<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>‚ö†Ô∏è Alerta Bela Vista ‚ö†Ô∏è</title>
</head>
<body>
  <h1>‚ö†Ô∏è Alerta Bela Vista ‚ö†Ô∏è</h1>
  <p>Esse √© um teste de notifica√ß√£o com sirene de alerta.</p>

  <!-- Bot√£o -->
  <button onclick="enviarNotificacao()">üö® Ativar Alerta üö®</button>
  <button onclick="pararSom()">üîá Parar Alerta</button>

  <!-- Sirene -->
  <audio id="alertaSom" src="https://www.soundjay.com/misc/sirens-01.mp3" loop></audio> 

  <script>
    function tocarSom() {
      let som = document.getElementById("alertaSom");
      som.volume = 1.0; // volume m√°ximo
      som.currentTime = 0; // reinicia do come√ßo
      som.play().catch((err) => {
        console.log("Som bloqueado pelo navegador:", err);
      });
    }

    function pararSom() {
      let som = document.getElementById("alertaSom");
      som.pause();
      som.currentTime = 0;
    }

    function enviarNotificacao() {
      // toca sirene
      tocarSom();

      if ("Notification" in window) {
        Notification.requestPermission().then(function (permissao) {
          if (permissao === "granted") {
            new Notification("‚ö†Ô∏è Alerta Bela Vista ‚ö†Ô∏è", {
              body: "Aten√ß√£o: risco identificado na sua regi√£o.",
              icon: "https://upload.wikimedia.org/wikipedia/commons/3/3b/Warning_icon.svg"
            });
          } else {
            alert("‚ö†Ô∏è ALERTA BELA VISTA ‚ö†Ô∏è\n\nAten√ß√£o: risco identificado na sua regi√£o.");
          }
        });
      } else {
        alert("‚ö†Ô∏è ALERTA BELA VISTA ‚ö†Ô∏è\n\nAten√ß√£o: risco identificado na sua regi√£o.");
      }
    }
  </script>
</body>
</html>